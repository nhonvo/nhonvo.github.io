<div id="reading-progress-bar" class="fixed top-0 left-0 h-1 bg-accent-500 z-[100] w-0 transition-all duration-75"></div>

<script>
  function updateProgressBar() {
    const bar = document.getElementById('reading-progress-bar');
    if (!bar) return;

    const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
    const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
    const scrolled = (winScroll / height) * 100;
    
    bar.style.width = scrolled + "%";
  }

  // Handle both initial load and view transitions
  document.addEventListener('scroll', updateProgressBar);
  document.addEventListener('astro:page-load', () => {
    updateProgressBar();
  });
</script>

<style>
  #reading-progress-bar {
    @apply shadow-[0_0_10px_rgba(236,72,153,0.5)]; /* pink shadow matches pink accent */
  }
</style>
